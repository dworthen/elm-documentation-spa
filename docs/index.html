<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Example SPA for Elm Documentation</title>
    <link rel="shortcut icon" size="16x16, 32x32, 48x48, 64x64, 128x128, 256x256" href="assets/favicon.ico">
    <link rel="stylesheet" href="assets/highlight/styles/default.css?1476177786">
    <link rel="stylesheet" href="assets/style.css?1476177786">
    <script src="assets/highlight/highlight.pack.js?1476177786"></script>
    <script src="assets/marked.js"></script>
</head>
<body>
    <div id="app">
        <!-- ELM APP -->
    </div>
    <script src="assets/index.js"></script>
    <script>
        hljs.configure({
            languages: ["elm"]
        });

        marked.setOptions({
            highlight: function (code) {
                return hljs.highlightAuto(code).value;
            }
        });


        var app = Elm.Main.embed(document.getElementById("app"), {
            documentationSrc : "documentation.json"
        });

        app.ports.newRoute.subscribe(function() {
            window.setTimeout(function() {
                var elements = document.getElementsByClassName("highlight");
                for(var i = 0; i < elements.length; i++) {
                    elements[i].innerHTML = marked(elements[i].innerHTML)
                }
                // var codeBlocks = document.querySelectorAll('pre code');
                // for(var i = 0; i < codeBlocks.length; i++) {
                //     hljs.highlightBlock(codeBlocks[i]);
                // }
            }, 500);
        });

    </script>
</body>
</html>